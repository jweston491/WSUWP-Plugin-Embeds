# WSU Embeds

[![Build Status](https://travis-ci.org/washingtonstateuniversity/WSUWP-Plugin-Embeds.svg?branch=master)](https://travis-ci.org/washingtonstateuniversity/WSUWP-Plugin-Embeds)

Extends the WSUWP Platform to include support for various embeds.

## Supported Shortcodes

* `[qualtrics]` to embed Qualtrics surveys.
	* `url` - **Required.** The full URL to your Qualtrics survey.
	* `width` - Defaults to `100%`. Accepts the same values as the CSS property `width`.
	* `height` - Defaults to `100%`. Accepts the same values as the CSS propety `height`.
	* `min_height` - Defaults to `400px`. Accepts the same values as the CSS property `min-height`.
* `[qualtrics_multi]` to redirect a user randomly to one of multiple surveys.
	* `url1`, `url2`, `url3`, `url4`, `url5` can all be used to specify a different URL for the survey.
	* This shortcode can only be used on individual pages. We recommend using the default page template rather than the builder.
* `[wsu_uchat]` to embed UChat scripts.
	* `id` - **Required.** The ID for your UChat script.
* `[tvw_video]` to embed videos from tvw.org.
    * `event_id` - **Required.** The ID of the video to play.
    * `client_id` - Defaults to 9375922947, which may change depending on the video.
    * `start` - The number of seconds into the video at which it should start playing.
    * `stop` - The number of seconds into the video at which it should stop playing.

## Twitter Timeline

Twitter [embedded timelines](https://dev.twitter.com/web/embedded-timelines) can be added to content in two ways.

First, a shortcode can be generated directly from a Twitter timeline embed code just by pasting it into your content.

```
<a class="twitter-timeline" href="https://twitter.com/WSUPullman" data-widget-id="583397974576734209">Tweets by @WSUPullman</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
```

The above code, copied directly from the WSUPullman profile on Twitter, will translate to `[wsu_twitter_timeline href="https://twitter.com/WSUPullman" id="583397974576734209" name="Tweets by @WSUPullman"]` when a draft is saved or published.

This resulting `[wsu_twitter_timeline]` shortcode can also be used directly as long as these attributes are available:

* `href` - The URL the embed should return to.
* `data_widget_id` - The ID of the widget, generated by Twitter.
* `name` - The text wrapped in the anchor before Javascript renders the widget.
